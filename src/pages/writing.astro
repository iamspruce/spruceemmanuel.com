---
import Layout from '../layouts/Layout.astro';
import PostCard from '../components/writing/PostCard.astro';

// Astro's Content Collections API automatically finds your markdown files.
const allPosts = await Astro.glob('../content/writing/*.md');
// Sort posts by date, newest first
const sortedPosts = allPosts.sort((a, b) => new Date(b.frontmatter.pubDate).valueOf() - new Date(a.frontmatter.pubDate).valueOf());
---

<Layout title="Writing" description="A collection of my thoughts and articles.">
	<div class="container">
        <h1>Writing</h1>
        <p>Here are some things I've written about technology, design, and life.</p>
        <div class="post-list">
            {sortedPosts.map(post => <PostCard post={post} />)}
        </div>
    </div>
</Layout>

<style>
    .container h1 {
        font-size: var(--step-4);
        margin-bottom: var(--space-s);
    }
    .container p {
        margin-bottom: var(--space-l);
        font-size: var(--step-0);
        color: var(--color-text-muted);
    }
    .post-list {
        display: grid;
        gap: var(--space-l);
    }
</style>
